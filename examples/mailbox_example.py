from tools.mail_tools import Email, Mailbox


MAILBOX_EXAMPLE = Mailbox()


email1 = Email(
    sender="irina@sberbank.ru",
    recipients=["oleg@sberbank.ru", "marina@sberbank.ru"],
    subject="Дизайн нового интерфейса",
    body=(
        "Здравствуйте, Олег и Марина!\n\n"
        "Мы начинаем работу над новым интерфейсом для клиентского портала. "
        "Наша цель — упростить навигацию и повысить удобство использования. "
        "Я подготовила общий список требований и базовую структуру экранов. "
        "Посмотрите, пожалуйста, в приложении черновой макет. Хотелось бы "
        "услышать ваше мнение о расположении кнопок, цветовых решениях и "
        "дополнительных модулях.\n\n"
        "Предлагаю обсудить детали на созвоне завтра в 11:00. Если время не "
        "подходит, дайте знать.\n\n"
        "С уважением,\nИрина"
    ),
    thread_id="new_interface"
)
MAILBOX_EXAMPLE.add_email(email1)

email2 = Email(
    sender="oleg@sberbank.ru",
    recipients=["irina@sberbank.ru", "marina@sberbank.ru"],
    subject="Дизайн нового интерфейса",
    body=(
        "Привет, Ирина и Марина!\n\n"
        "Спасибо за материалы. Я согласен, что нужно упростить структуру. "
        "В частности, предлагаю объединить разделы «Отчёты» и «Статистика» в "
        "один экран, чтобы не переключаться по несколько раз. Также я бы "
        "предложил добавить небольшие всплывающие подсказки для новых "
        "пользователей, чтобы они сразу понимали логику системы.\n\n"
        "Мне 11:00 завтра подходит. Можем обсудить основные моменты. "
        "Если будут еще идеи — пришлю.\n\n"
        "Олег"
    ),
    thread_id=email1.thread_id
)
MAILBOX_EXAMPLE.add_email(email2)

email3 = Email(
    sender="marina@sberbank.ru",
    recipients=["irina@sberbank.ru", "oleg@sberbank.ru"],
    subject="Дизайн нового интерфейса",
    body=(
        "Ирина, Олег, добрый день!\n\n"
        "Посмотрела черновой макет. На мой взгляд, нужно тщательнее проработать "
        "блок с личным кабинетом пользователя. Сейчас там слишком много "
        "настроек на одном экране, и сложно сразу понять, куда нажимать, "
        "чтобы поменять какую-то конкретную опцию. Возможно, имеет смысл "
        "разделить настройки на вкладки или добавить краткое описание каждой.\n\n"
        "Завтра в 11:00 смогу присоединиться к звонку. Подготовлю несколько "
        "примеров по дизайну вкладок.\n\n"
        "Спасибо,\nМарина"
    ),
    thread_id=email1.thread_id
)
MAILBOX_EXAMPLE.add_email(email3)

email4 = Email(
    sender="irina@sberbank.ru",
    recipients=["oleg@sberbank.ru", "marina@sberbank.ru"],
    subject="Дизайн нового интерфейса",
    body=(
        "Коллеги, добрый вечер!\n\n"
        "Отлично, что у всех есть идеи. Я добавила в макет вариант, где личный "
        "кабинет разделён на несколько вкладок: «Профиль», «Настройки», "
        "«Уведомления» и «Безопасность». Также предусмотрела помощь в виде "
        "всплывающих подсказок, о которой упоминал Олег. Надеюсь, это решит "
        "проблему с перегруженностью экрана.\n\n"
        "Буду рада выслушать дополнительную обратную связь на завтрашнем "
        "созвоне. Если есть вопросы заранее — пишите.\n\n"
        "С уважением,\nИрина"
    ),
    thread_id=email1.thread_id
)
MAILBOX_EXAMPLE.add_email(email4)

email5 = Email(
    sender="marina@sberbank.ru",
    recipients=["irina@sberbank.ru", "oleg@sberbank.ru"],
    subject="Дизайн нового интерфейса",
    body=(
        "Ирина, Олег, добрый день!\n\n"
        "Проверила обновлённый макет. Выглядит уже гораздо понятнее. Я бы "
        "добавила ещё кнопку «Вернуться на главную», чтобы пользователи "
        "быстро переходили к обзору, не нажимая «Назад» несколько раз. "
        "Обсудим это завтра?\n\n"
        "Марина"
    ),
    thread_id=email1.thread_id
)
MAILBOX_EXAMPLE.add_email(email5)

email6 = Email(
    sender="alexey@sberbank.ru",
    recipients=["daria@sberbank.ru"],
    subject="Настройка CI/CD",
    body=(
        "Дарья, добрый день!\n\n"
        "Нужно разобраться, как именно будем организовывать процесс сборки "
        "и тестирования. Хотелось бы, чтобы при каждом пуше в репозиторий "
        "автоматически прогонялись юнит-тесты, а после успешного прохождения "
        "деплой шёл на тестовый сервер. Какие инструменты нам лучше использовать? "
        "Jenkins, GitLab CI или что-то ещё?\n\n"
        "Напиши, пожалуйста, какие у тебя есть предпочтения по стеку. "
        "Также если есть какие-то ограничения со стороны инфраструктуры, "
        "скажи сразу.\n\n"
        "Спасибо,\nАлексей"
    ),
    thread_id="ci_cd"
)
MAILBOX_EXAMPLE.add_email(email6)

email7 = Email(
    sender="daria@sberbank.ru",
    recipients=["alexey@sberbank.ru"],
    subject="Настройка CI/CD",
    body=(
        "Алексей, привет!\n\n"
        "Я бы предложила GitLab CI, так как у нас уже есть корпоративная "
        "интеграция с GitLab и настроенные раннеры. Но если нужно, можем "
        "посмотреть и на Jenkins. В целом GitLab CI, на мой взгляд, удобнее "
        "и быстрее настраивается для наших задач.\n\n"
        "По инфраструктуре: у нас ограничение в том, что сервера находятся "
        "внутри корпоративной сети, поэтому придётся настроить туннель "
        "или VPN-доступ. У нас уже есть готовая документация, могу "
        "прикрепить к следующему письму.\n\n"
        "Дарья"
    ),
    thread_id=email6.thread_id
)
MAILBOX_EXAMPLE.add_email(email7)

email8 = Email(
    sender="alexey@sberbank.ru",
    recipients=["daria@sberbank.ru"],
    subject="Настройка CI/CD",
    body=(
        "Дарья, понял, спасибо!\n\n"
        "Давай действительно остановимся на GitLab CI — это будет проще "
        "и быстрее. Можешь отправить документацию, о которой ты говорила? "
        "Я пока начну настраивать репозиторий и писать yml-конфиг для CI.\n\n"
        "Также, если нужно будет какое-то разрешение от отдела безопасности "
        "по поводу туннеля, дай знать, я могу помочь это согласовать.\n\n"
        "С уважением,\nАлексей"
    ),
    thread_id=email6.thread_id
)
MAILBOX_EXAMPLE.add_email(email8)

email9 = Email(
    sender="daria@sberbank.ru",
    recipients=["alexey@sberbank.ru"],
    subject="Настройка CI/CD",
    body=(
        "Алексей, добрый день!\n\n"
        "Прикладываю документацию по настройке доступа к тестовым серверам "
        "через VPN. Там есть все необходимые шаги, включая запрос сертификатов "
        "и конфигурацию клиента. Если возникнут вопросы — обязательно пиши.\n\n"
        "Также к письму добавила пример .gitlab-ci.yml, который мы раньше "
        "использовали в другом проекте. Его можно взять за основу и "
        "подкорректировать под нашу структуру.\n\n"
        "Дарья"
    ),
    thread_id=email6.thread_id
)
MAILBOX_EXAMPLE.add_email(email9)

email10 = Email(
    sender="alexey@sberbank.ru",
    recipients=["daria@sberbank.ru"],
    subject="Настройка CI/CD",
    body=(
        "Дарья, привет!\n\n"
        "Спасибо за файлы, уже ознакомился. Я добавил необходимые шаги в "
        ".gitlab-ci.yml: сборка, тестирование и деплой на тестовую машину. "
        "Сейчас CI успешно запускается при каждом пуше, и результат виден "
        "в разделе Pipeline в GitLab.\n\n"
        "Если считаешь, что чего-то не хватает или нужно изменить порядок "
        "шагов, сообщи. Пока что всё выглядит рабочим. Будем дальше дорабатывать, "
        "если появятся новые требования.\n\n"
        "Хорошего дня!\nАлексей"
    ),
    thread_id=email6.thread_id
)
MAILBOX_EXAMPLE.add_email(email10)


email11 = Email(
    sender="nikolay@sberbank.ru",
    recipients=["veronica@sberbank.ru", "ekaterina@sberbank.ru"],
    subject="Интеграция нового приложения",
    body=(
        "Добрый день, Вероника и Екатерина!\n\n"
        "Хотел обсудить детали по интеграции нового приложения в нашу существующую систему. "
        "Мы получили требования от бизнеса, и основной упор делается на безопасность обмена данными. "
        "Предполагается, что приложение будет использовать микросервисную архитектуру. "
        "Нужно определиться, будем ли мы разворачивать его в нашем Kubernetes-кластере или "
        "лучше задействовать отдельную виртуальную машину.\n\n"
        "Также важно учесть моменты, связанные с аутентификацией пользователей — планируется "
        "использовать LDAP или OAuth2. Напишите, какие у вас мысли по этому поводу.\n\n"
        "Спасибо,\nНиколай"
    ),
    thread_id="app_integration"
)

email12 = Email(
    sender="veronica@sberbank.ru",
    recipients=["nikolay@sberbank.ru", "ekaterina@sberbank.ru"],
    subject="Интеграция нового приложения",
    body=(
        "Николай, привет!\n\n"
        "Считаю, что Kubernetes-кластер — оптимальный вариант. У нас уже есть готовые пайплайны "
        "для деплоя, и мы сможем масштабировать приложение при росте нагрузки. "
        "Насчёт аутентификации: мне кажется, стоит использовать OAuth2, так как у нас есть "
        "модуль единой авторизации для нескольких продуктов. Если мы перейдём на LDAP, "
        "придётся отдельно настраивать распределённую авторизацию.\n\n"
        "Давай уточним у Екатерины, есть ли у неё какие-то ограничения по безопасности.\n\n"
        "Вероника"
    ),
    thread_id="app_integration"
)

email13 = Email(
    sender="ekaterina@sberbank.ru",
    recipients=["nikolay@sberbank.ru", "veronica@sberbank.ru"],
    subject="Интеграция нового приложения",
    body=(
        "Коллеги, добрый день!\n\n"
        "По безопасности у нас есть несколько ключевых требований:\n"
        "1. Все сервисы должны работать через шифрованные каналы (TLS).\n"
        "2. Аутентификация — действительно лучше через OAuth2, так как у нас уже есть "
        "единый сервис токенов.\n"
        "3. Нужно будет внедрить систему логирования, чтобы при сбоях или попытках "
        "несанкционированного доступа быстро выявлять причину.\n\n"
        "По Kubernetes тоже поддерживаю идею. Главное — проверить, что все ресурсы и лимиты "
        "настроены правильно, чтобы при пиковых нагрузках не было перебоев.\n\n"
        "Екатерина"
    ),
    thread_id="app_integration"
)

email14 = Email(
    sender="nikolay@sberbank.ru",
    recipients=["veronica@sberbank.ru", "ekaterina@sberbank.ru"],
    subject="Интеграция нового приложения",
    body=(
        "Вероника, Екатерина, добрый день!\n\n"
        "Спасибо за обратную связь. Тогда действуем следующим образом:\n"
        "- Разворачиваем новое приложение в существующем Kubernetes-кластере.\n"
        "- Настраиваем аутентификацию через OAuth2.\n"
        "- Включаем централизованное логирование (Elastic Stack или Datadog — надо уточнить).\n\n"
        "Сейчас я свяжусь с инфраструктурной командой, чтобы они зарезервировали необходимые "
        "ресурсы в кластере и помогли нам с настройкой окружения. Также проговорю детали "
        "с нашим отделом безопасности, чтобы всё соответствовало внутренним требованиям.\n\n"
        "Если есть дополнительные пожелания — пишите.\n\n"
        "Николай"
    ),
    thread_id="app_integration"
)

email15 = Email(
    sender="veronica@sberbank.ru",
    recipients=["nikolay@sberbank.ru", "ekaterina@sberbank.ru"],
    subject="Интеграция нового приложения",
    body=(
        "Коллеги, привет!\n\n"
        "Отлично, что мы пришли к единому решению. Я приготовлю черновой вариант документации "
        "по процессу деплоя и поделюсь ссылкой в Confluence. Там же можно будет создавать "
        "задачи, если возникнут вопросы или будут нужны доработки.\n\n"
        "Екатерина, если есть какие-то формальные чек-листы по безопасности, которые нужно "
        "пройти, пришли, пожалуйста. А я пока начну прописывать схему интеграции в общий "
        "план проекта.\n\n"
        "Хорошего дня,\nВероника"
    ),
    thread_id="app_integration"
)

MAILBOX_EXAMPLE.add_email(email11)
MAILBOX_EXAMPLE.add_email(email12)
MAILBOX_EXAMPLE.add_email(email13)
MAILBOX_EXAMPLE.add_email(email14)
MAILBOX_EXAMPLE.add_email(email15)


email16 = Email(
    sender="svetlana@sberbank.ru",
    recipients=["roman@sberbank.ru", "pavel@sberbank.ru"],
    subject="Перенос данных в новую БД",
    body=(
        "Коллеги, добрый день!\n\n"
        "Мы получили подтверждение от архитектурного комитета: переходим на PostgreSQL 15. "
        "Нужно подготовить план миграции и оценить объём работ. "
        "Я создала черновик плана в Confluence — посмотрите, пожалуйста, разделы "
        "о резервном копировании и обратимой миграции.\n\n"
        "Предлагаю завтра в 15:00 собрать короткий стендап.\n\n"
        "С уважением,\nСветлана"
    ),
    thread_id="data_migration"
)
MAILBOX_EXAMPLE.add_email(email16)

email17 = Email(
    sender="roman@sberbank.ru",
    recipients=["svetlana@sberbank.ru", "pavel@sberbank.ru"],
    subject="Перенос данных в новую БД",
    body=(
        "Светлана, привет!\n\n"
        "Посмотрел черновик. Добавил раздел с оценкой времени простоя — "
        "по расчётам, на 200 ГБ данных потребуется около 40 минут при онлайн‑миграции. "
        "Также внёс предложения по шифрованию бэкапов.\n\n"
        "Завтра в 15:00 буду.\n\n"
        "Роман"
    ),
    thread_id="data_migration"
)
MAILBOX_EXAMPLE.add_email(email17)

email18 = Email(
    sender="pavel@sberbank.ru",
    recipients=["svetlana@sberbank.ru", "roman@sberbank.ru"],
    subject="Перенос данных в новую БД",
    body=(
        "Коллеги, добрый вечер!\n\n"
        "Согласен с Романом: шифрование бэкапов — критично. "
        "Также предлагаю до миграции запустить статический анализ схемы, "
        "чтобы найти устаревшие индексы. Я уже настроил скрипт — прилагаю отчёт.\n\n"
        "Павел"
    ),
    thread_id="data_migration"
)
MAILBOX_EXAMPLE.add_email(email18)

email19 = Email(
    sender="svetlana@sberbank.ru",
    recipients=["roman@sberbank.ru", "pavel@sberbank.ru"],
    subject="Перенос данных в новую БД",
    body=(
        "Роман, Павел, спасибо за предложения!\n\n"
        "Я объединила ваши правки и добавила чек‑лист отката. "
        "Также зарезервировала инфраструктурное окно на 3 мая с 02:00 до 06:00.\n\n"
        "Жду подтверждения.\n\n"
        "Светлана"
    ),
    thread_id="data_migration"
)
MAILBOX_EXAMPLE.add_email(email19)

email20 = Email(
    sender="roman@sberbank.ru",
    recipients=["svetlana@sberbank.ru", "pavel@sberbank.ru"],
    subject="Перенос данных в новую БД",
    body=(
        "Подтверждаю окно 3 мая, 02:00–06:00. "
        "Я возьму на себя мониторинг производительности во время миграции. "
        "Павел, можешь подготовить финальный бэкап за час до старта?\n\n"
        "Роман"
    ),
    thread_id="data_migration"
)
MAILBOX_EXAMPLE.add_email(email20)


email21 = Email(
    sender="anastasia@sberbank.ru",
    recipients=["dmitry@sberbank.ru", "yulia@sberbank.ru"],
    subject="Релиз мобильного приложения 4.2.0",
    body=(
        "Коллеги, привет!\n\n"
        "Мы запланировали релиз версии 4.2.0 на 10 мая. "
        "Основные фичи: P2P‑переводы по QR и тёмная тема. "
        "Пожалуйста, подтвердите готовность бекенда и дизайна к этой дате.\n\n"
        "Анастасия"
    ),
    thread_id="mobile_app_release"
)
MAILBOX_EXAMPLE.add_email(email21)

email22 = Email(
    sender="dmitry@sberbank.ru",
    recipients=["anastasia@sberbank.ru", "yulia@sberbank.ru"],
    subject="Релиз мобильного приложения 4.2.0",
    body=(
        "Анастасия, добрый день!\n\n"
        "Бекенд готов на 95 %. На следующей неделе закроем последние автотесты "
        "для платежей по QR. Возникает вопрос: нужно ли включать лимит на сумму "
        "переводов? Сейчас по умолчанию 100 000 ₽.\n\n"
        "Дмитрий"
    ),
    thread_id="mobile_app_release"
)
MAILBOX_EXAMPLE.add_email(email22)

email23 = Email(
    sender="yulia@sberbank.ru",
    recipients=["anastasia@sberbank.ru", "dmitry@sberbank.ru"],
    subject="Релиз мобильного приложения 4.2.0",
    body=(
        "Коллеги, привет!\n\n"
        "По дизайну тёмная тема готова, но есть нюансы с иконками в разделе "
        "«Профиль». Передам обновлённые SVG файлы в течение дня. "
        "Лимит в 100 000 ₽ выглядит ок, UX‑тесты не выявили проблем.\n\n"
        "Юлия"
    ),
    thread_id="mobile_app_release"
)
MAILBOX_EXAMPLE.add_email(email23)

email24 = Email(
    sender="anastasia@sberbank.ru",
    recipients=["dmitry@sberbank.ru", "yulia@sberbank.ru"],
    subject="Релиз мобильного приложения 4.2.0",
    body=(
        "Дмитрий, оставляем лимит 100 000 ₽, но добавим предупреждение, "
        "если пользователь превышает 80 %. Юлия, спасибо за SVG. "
        "Пожалуйста, проверьте сборку 4.2.0‑beta2, она уже в TestFlight.\n\n"
        "Анастасия"
    ),
    thread_id="mobile_app_release"
)
MAILBOX_EXAMPLE.add_email(email24)

email25 = Email(
    sender="dmitry@sberbank.ru",
    recipients=["anastasia@sberbank.ru", "yulia@sberbank.ru"],
    subject="Релиз мобильного приложения 4.2.0",
    body=(
        "Бета‑сборка прошла все регрессы, багов‑блокеров нет. "
        "Переходим к подготовке релиз‑кандидата.\n\n"
        "Дмитрий"
    ),
    thread_id="mobile_app_release"
)
MAILBOX_EXAMPLE.add_email(email25)


email26 = Email(
    sender="sergey@sberbank.ru",
    recipients=["olga@sberbank.ru", "kirill@sberbank.ru"],
    subject="Оптимизация производительности API",
    body=(
        "Добрый день!\n\n"
        "На проде участились жалобы на медленные ответы API (энд‑поинты /accounts/*). "
        "Среднее время запроса выросло с 120 мс до 350 мс. "
        "Нужно понять причину и предложить план улучшений.\n\n"
        "Сергей"
    ),
    thread_id="perf_optimization"
)
MAILBOX_EXAMPLE.add_email(email26)

email27 = Email(
    sender="olga@sberbank.ru",
    recipients=["sergey@sberbank.ru", "kirill@sberbank.ru"],
    subject="Оптимизация производительности API",
    body=(
        "Сергей, привет!\n\n"
        "Провела первичный профайлинг: основная задержка на запросе к сервису "
        "выписок. Похоже, не работает кэширование Redis. "
        "Я запустила тестовый контейнер с увеличенным объёмом кэша — "
        "время отклика упало до 140 мс. Докладываю графики на стендап.\n\n"
        "Ольга"
    ),
    thread_id="perf_optimization"
)
MAILBOX_EXAMPLE.add_email(email27)

email28 = Email(
    sender="kirill@sberbank.ru",
    recipients=["sergey@sberbank.ru", "olga@sberbank.ru"],
    subject="Оптимизация производительности API",
    body=(
        "Коллеги, добрый вечер!\n\n"
        "Нашёл ещё одну проблему: запросы к БД идут без индекса по полю "
        "`account_status`. Создаю индекс — время выборки падает на 40 %. "
        "Предлагаю применить патч сегодня в 23:00, трафик минимальный.\n\n"
        "Кирилл"
    ),
    thread_id="perf_optimization"
)
MAILBOX_EXAMPLE.add_email(email28)

email29 = Email(
    sender="sergey@sberbank.ru",
    recipients=["olga@sberbank.ru", "kirill@sberbank.ru"],
    subject="Оптимизация производительности API",
    body=(
        "Ольга, Кирилл, спасибо за оперативность!\n\n"
        "Я согласовал окно на 23:00. Пожалуйста, подготовьте план отката на случай, "
        "если индекс негативно скажется на записи данных. "
        "Также давайте финализируем конфигурацию Redis‑кэша.\n\n"
        "Сергей"
    ),
    thread_id="perf_optimization"
)
MAILBOX_EXAMPLE.add_email(email29)

email30 = Email(
    sender="olga@sberbank.ru",
    recipients=["sergey@sberbank.ru", "kirill@sberbank.ru"],
    subject="Оптимизация производительности API",
    body=(
        "План отката и новая конфигурация Redis во вложении. "
        "Патч с индексом готов к деплою, Кирилл проверил на стенде QA — всё ок. "
        "Выходим в 23:00.\n\n"
        "Ольга"
    ),
    thread_id="perf_optimization"
)
MAILBOX_EXAMPLE.add_email(email30)
